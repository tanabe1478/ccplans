@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 222 24% 8%;
    --foreground: 210 20% 92%;
    --card: 222 21% 11%;
    --card-foreground: 210 20% 92%;
    --popover: 222 21% 11%;
    --popover-foreground: 210 20% 92%;
    --primary: 203 88% 66%;
    --primary-foreground: 222 24% 8%;
    --secondary: 220 16% 17%;
    --secondary-foreground: 210 20% 90%;
    --muted: 220 17% 15%;
    --muted-foreground: 218 12% 62%;
    --accent: 220 17% 15%;
    --accent-foreground: 210 20% 92%;
    --destructive: 350 82% 65%;
    --destructive-foreground: 0 0% 100%;
    --border: 220 15% 24%;
    --input: 220 15% 24%;
    --ring: 203 88% 66%;
    --radius: 0.125rem;
  }

  .dark {
    --background: 222 24% 8%;
    --foreground: 210 20% 92%;
    --card: 222 21% 11%;
    --card-foreground: 210 20% 92%;
    --popover: 222 21% 11%;
    --popover-foreground: 210 20% 92%;
    --primary: 203 88% 66%;
    --primary-foreground: 222 24% 8%;
    --secondary: 220 16% 17%;
    --secondary-foreground: 210 20% 90%;
    --muted: 220 17% 15%;
    --muted-foreground: 218 12% 62%;
    --accent: 220 17% 15%;
    --accent-foreground: 210 20% 92%;
    --destructive: 350 82% 65%;
    --destructive-foreground: 0 0% 100%;
    --border: 220 15% 24%;
    --input: 220 15% 24%;
    --ring: 203 88% 66%;
  }
}

@layer base {
  * {
    @apply border-border;
    border-radius: 0;
  }

  html,
  body,
  #root {
    min-height: 100%;
  }

  body {
    @apply bg-background text-foreground;
    margin: 0;
    min-height: 100vh;
    font-family: "SF Pro Text", "Avenir Next", "Helvetica Neue", "IBM Plex Sans", sans-serif;
    font-size: 13px;
    line-height: 1.45;
    letter-spacing: 0.005em;
  }

  code,
  pre,
  kbd,
  samp {
    font-family: "JetBrains Mono", "SFMono-Regular", Menlo, Monaco, monospace;
  }
}

::-webkit-scrollbar {
  width: 9px;
  height: 9px;
}

::-webkit-scrollbar-track {
  background: #0b1220;
}

::-webkit-scrollbar-thumb {
  border: 2px solid #0b1220;
  background: #334155;
}

::-webkit-scrollbar-thumb:hover {
  background: #475569;
}

.markdown-content {
  @apply max-w-none text-foreground;
}

.markdown-content h1 {
  @apply mt-6 mb-3 border-b pb-2 text-xl font-semibold;
}

.markdown-content h2 {
  @apply mt-5 mb-2 text-lg font-semibold;
}

.markdown-content h3 {
  @apply mt-4 mb-2 text-base font-medium;
}

.markdown-content p {
  @apply my-2 leading-relaxed;
}

.markdown-content ul,
.markdown-content ol {
  @apply my-2 pl-6;
}

.markdown-content li {
  @apply my-1;
}

.markdown-content code {
  @apply bg-muted px-1.5 py-0.5 text-[12px] font-mono;
}

.markdown-content pre {
  @apply my-3 overflow-x-auto border border-border bg-muted p-3;
}

.markdown-content pre code {
  @apply bg-transparent p-0;
}

.markdown-content table {
  @apply my-3 w-full border-collapse;
}

.markdown-content th,
.markdown-content td {
  @apply border px-2 py-1.5 text-left;
}

.markdown-content th {
  @apply bg-muted font-medium;
}

.markdown-content blockquote {
  @apply my-3 border-l-2 border-muted pl-3 italic;
}

.markdown-content a {
  @apply text-primary underline;
}

.section-nav {
  @apply border bg-card p-2;
}

.section-nav-item {
  @apply block px-2 py-1 text-[12px] transition-colors;
}

.section-nav-item:hover {
  @apply bg-muted;
}

.markdown-content [id] {
  scroll-margin-top: 0.75rem;
}

.review-file {
  border: 1px solid #1f2937;
  background: #0f172a;
}

.review-file-header {
  display: flex;
  justify-content: space-between;
  gap: 12px;
  border-bottom: 1px solid #1f2937;
  padding: 8px 10px;
  font-size: 11px;
  color: #94a3b8;
}

.review-file-content {
  max-height: 64vh;
  overflow: auto;
}

.review-diff-table {
  width: 100%;
  border-collapse: collapse;
  table-layout: fixed;
}

.review-diff-line {
  border-bottom: 1px solid #172033;
}

.review-diff-line.has-comment {
  background: #0b1a34;
}

.review-diff-line.selecting {
  background: #1e293b;
}

.review-diff-gutter {
  width: 56px;
  cursor: pointer;
  border-right: 1px solid #1f2937;
  background: #0b1220;
  padding: 0;
  color: #64748b;
}

.review-diff-gutter:hover {
  background: #131d33;
  color: #cbd5e1;
}

.review-line-num {
  display: inline-flex;
  width: 100%;
  align-items: center;
  justify-content: center;
  padding: 4px 0;
  font-size: 11px;
  font-family: "JetBrains Mono", "SFMono-Regular", Menlo, Monaco, monospace;
}

.review-add-btn {
  display: none;
}

.review-diff-code {
  padding: 4px 8px;
  white-space: pre-wrap;
  font-size: 12px;
  font-family: "JetBrains Mono", "SFMono-Regular", Menlo, Monaco, monospace;
  color: #dbeafe;
}

.review-comment-row {
  border-bottom: 1px solid #172033;
}

.review-comment-cell {
  padding: 6px 8px;
  background: #0b1220;
}

.electron-drag-region {
  -webkit-app-region: drag;
}

.electron-no-drag {
  -webkit-app-region: no-drag;
}
